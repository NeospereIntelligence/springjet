
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Animals</title>
<style>
body { margin:0; font-family:'Segoe UI'; background:#F9F9F9; display:flex; justify-content:center; padding-top:40px; }
.container { max-width:450px; padding:20px; }
h2 { font-size:32px; margin-bottom:30px; text-align:center; }
.video-list { display:flex; flex-direction:column; gap:15px; }
.video-card { background:white; border-radius:24px; padding:12px; display:flex; cursor:pointer; border:1px solid #eee; }
.thumbnail { width:140px; height:90px; border-radius:16px; flex-shrink:0; }
.video-info { margin-left:16px; flex:1; }
.duration { font-size:13px; color:#777; text-align:right; }
.title { font-size:18px; font-weight:700; }
 .metadata { font-size: 12px; color: #AAA; }
</style>
</head>
<body>
<div class="container">
<h2>üêò Which one would you like to watch?</h2>
<div class="video-list">

<div class="video-card" onclick="play('PbYOP8gJY_w','Adorable Baby Animals')">
<img class="thumbnail" src="https://img.youtube.com/vi/PbYOP8gJY_w/mqdefault.jpg">
<div class="video-info">
<div class="duration">5 min</div>
<div class="title">Adorable Baby Animals</div>
 <div class="metadata">One video ‚Ä¢ No autoplay</div>
</div>
</div>

<div class="video-card" onclick="play('-jtAiOZQtnU','5‚ÄëMinute Baby Animal Stories')">
<img class="thumbnail" src="https://img.youtube.com/vi/-jtAiOZQtnU/mqdefault.jpg">
<div class="video-info">
<div class="duration">5 min</div>
<div class="title">5‚ÄëMinute Baby Animal Stories</div>
 <div class="metadata">One video ‚Ä¢ No autoplay</div>
</div>
</div>

<div class="video-card" onclick="play('p_8jdR5m2kc','Baby Animals Being Cute!')">
<img class="thumbnail" src="https://img.youtube.com/vi/p_8jdR5m2kc/mqdefault.jpg">
<div class="video-info">
<div class="duration">5 min</div>
<div class="title">Baby Animals Being Cute!</div>
 <div class="metadata">One video ‚Ä¢ No autoplay</div>
</div>
</div>

</div>
</div>
<script>
function play(id,title){
  location.href=`player.html?id=${id}&title=${encodeURIComponent(title)}`;
}
</script>
 <script>
async function loadVideos() {
    const CATEGORY_TO_LOAD = "Animal"; 
    const response = await fetch('../Video_list.csv');
    const data = await response.text();
    const rows = data.split('\n').slice(1);
    
    const listContainer = document.querySelector('.video-list');
    listContainer.innerHTML = ""; // Clear existing static cards

    rows.forEach(row => {
        const [id, mood, category, videoUrl, title, duration] = row.split(',');
        
        if (category && category.trim() === CATEGORY_TO_LOAD) {
            const ytId = extractId(videoUrl);
            listContainer.innerHTML += `
                <div class="video-card" onclick="play('${ytId}','${title}','${duration}')">
                    <img class="thumbnail" src="https://img.youtube.com/vi/${ytId}/mqdefault.jpg">
                    <div class="video-info">
                        <div class="duration">${duration}</div>
                        <div class="title">${title}</div>
                        <div class="metadata">Tap to play ‚Ä¢ Safe Content</div>
                    </div>
                </div>`;
        }
    });
}

function extractId(url) {
    const match = url.match(/(?:https?:\/{2})?(?:w{3}\.)?youtu(?:be)?\.(?:com|be)(?:\/watch\?v=|\/)([^\s&]+)/);
    return match ? match[1].trim() : "";
}

function play(id, title, time) {
    window.location.href = `../player.html?id=${id}&title=${encodeURIComponent(title)}&duration=${time}`;
}

loadVideos();
</script>
</body>
</html>
